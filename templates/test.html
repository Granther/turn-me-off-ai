<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat</title>
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-xl mx-auto bg-white rounded-xl shadow-md overflow-hidden">
        <div id="chat-container" class="h-96 overflow-y-auto p-4 bg-gray-100"></div>
        <div class="p-4">
            <input id="prompt" type="text" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ask something...">
            <button onclick="sendPrompt()" class="bg-blue-500 text-white px-4 py-2 rounded-lg mt-2">Send</button>
        </div>
    </div>

    <!-- <script>
        function sendPrompt() {
            const prompt = document.getElementById('prompt').value;
			console.log(prompt)
            const chatContainer = document.getElementById('chat-container');

            // Add an empty message div to show the streaming response
            const newMessage = document.createElement('div');
            chatContainer.appendChild(newMessage);

            const eventSource = new EventSource("{{url_for('stream')}}");

            eventSource.onmessage = function(event) {
                // Append the streamed data to the message div
                newMessage.innerHTML = `<p>${event.data}</p>`;
                
                // Scroll to the bottom of the container
                chatContainer.scrollTop = chatContainer.scrollHeight;
            };

            eventSource.onerror = function() {
                // Close the connection if there's an error
                eventSource.close();
            };
        } -->
    </script>
</body>
</html>